# Obsidian Publishing System - Environment Configuration
# Copy this file to .env and update the values for your deployment

# =============================================================================
# API AUTHENTICATION (REQUIRED)
# =============================================================================

# API Token for authentication - MUST be at least 32 characters
# Generate with: openssl rand -base64 32
API_TOKEN=your-very-secure-api-token-here-minimum-32-characters

# Optional: Description for the API token (for documentation purposes)
API_TOKEN_DESCRIPTION="Production API access for Obsidian Publishing"

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application environment
NODE_ENV=production

# Port for the Express server
PORT=3000

# Database file path (inside container)
DB_PATH=/app/data/posts.db

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# CORS origin - your domain where the service is hosted
# This should match your SSL domain
CORS_ORIGIN=https://your-domain.com

# =============================================================================
# SSL/DEPLOYMENT CONFIGURATION
# =============================================================================

# Your domain name (for SSL certificates)
DOMAIN=your-domain.com

# Email for Let's Encrypt SSL certificate registration
SSL_EMAIL=your-email@example.com

# Docker image version (optional)
VERSION=latest

# =============================================================================
# SECURITY NOTES
# =============================================================================

# 1. API_TOKEN: Use a cryptographically strong token (32+ characters)
#    Generate with: openssl rand -base64 32
#    
# 2. Keep .env file secure: Never commit it to version control
#    Add .env to your .gitignore file
#
# 3. Use different tokens for different environments:
#    - Development: Can use shorter/simpler tokens
#    - Staging: Production-strength tokens, separate from production  
#    - Production: Maximum security tokens, regularly rotated
#
# 4. CORS_ORIGIN: Must match your actual domain for security
#    The server will reject requests from other origins
#
# 5. SSL_EMAIL: Required for Let's Encrypt certificate registration
#    Use a valid email address you can access

# =============================================================================
# EXAMPLE STRONG API TOKEN GENERATION
# =============================================================================

# Method 1: OpenSSL (recommended)
# openssl rand -base64 32

# Method 2: Node.js
# node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"

# Method 3: Linux/Unix
# openssl rand -hex 32

# Example output (DO NOT USE THIS - GENERATE YOUR OWN):
# API_TOKEN=Kj8vN2pL9qR3sT6uW4xE7yF0zA5bC8dM1nH9gV2cP4eQ